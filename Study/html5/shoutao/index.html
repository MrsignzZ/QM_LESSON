<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <input type="text" id="salary">
  <script>
    const salaryInput = document.getElementById('salary');
    salaryInput.addEventListener('change',
    function(){
      let salary = Number(this.value);
      console.log(salary,typeof salary);
      //输入框的哪怕是数字，类型是string
      //值的类型自动转换 隐式类型转换
      alert(salary * (12 + 2.5));
    });
    // salary   多少？ 工资， 绩效=2.5
    // 任务: 提供给财务 计算工具

    /*
      *功能：计算全年工资
      *@params salary number
      *@params level default C, in 'ABCD'
      *@return number
     */
    function totalSalary(salary, level = 'C') {
      // if (level != 'A' && level != 'B' && level != 'C' && level != 'D') {
      //   throw new Error('请选择绩效等级');
      // }


      console.log(arguments);

      if(arguments.length == 0){
        throw new Error('请输入工资');
      }

      salary = Number(salary);
      if(!salary || Number(salary) <= 0){
        throw new erro('工资输入错误，请重新输入')
      }

      if ('ABCD'.indexOf(level) < 0) {
        throw new Error('请选择绩效等级');
      }

      if (arguments.length >= 2 && arguments[2] === 'admin') {
        return salary * (100 + 6);
      }

      //工资的严格性
      if(typeof salary !== 'number' || salary <= 0 ){
        throw new error("a");

      }

      // 比较靠谱
      if (level === 'A') {
        return performanceA(salary);
      }

      if (level === 'B') {
        return performanceB(salary);
      }

      if (level === 'C') {
        return performanceC(salary);
      }

      if (level === 'D') {
        return performanceD(salary);
      }
    }

    function performanceA(salary) {
      return salary * 18;
    }

    function performanceB(salary) {
      return salary * 16;
    }

    function performanceC(salary) {
      return salary * 14.5;
    }

    function performanceD(salary) {
      return salary * 12;
    }

    console.log(totalSalary('15420','A','admin'));

    /* let salary = prompt("请输入用户的工资");
    let totalSalary2 = salary * (12 + 2.5);
    console.log(totalSalary2); */

  </script>
</body>

</html>